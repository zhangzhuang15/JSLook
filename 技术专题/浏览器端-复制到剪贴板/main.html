<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>复制到剪贴板</title>
</head>
<body>
    <p id="content">https://github.com/zhuangzhang/JSLook.git</p>
    <button id="btn">复制到剪贴板</button>
    <button id="f-btn">禁止复制到剪贴板</button>
    <script>
        const content = document.getElementById("content");
    </script>
    <script>
        const copyToClipboard = (text) => navigator.clipboard.writeText && navigator.clipboard.writeText(text);

        const paragraph = document.getElementById("content");

        const btn = document.getElementById("btn");
        btn.addEventListener("click", () => copyToClipboard(paragraph.innerText));
    </script>
    <script>
        const forbiddenBtn = document.getElementById("f-btn");
        const handler = (event) => event.preventDefault();
        forbiddenBtn.addEventListener("click", (e) => {
            content.addEventListener("copy", handler);
        });
        forbiddenBtn.addEventListener("dblclick", (e) => {
            content.removeEventListener("copy", handler);
        });
    </script>
</body>
</html>