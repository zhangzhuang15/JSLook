<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="select控件例子">
        <meta name="keywords" content="select, html, demo">
        <title>select控件demo</title>
    </head>
    <body>
        <select>
            <option value="1">monkey</option>
            <!-- 初始化默认选中 donkey 项-->
            <option value="2" selected>donkey</option>
            <option value="3">lion</option>
            <option value="4">tiger</option>
            <option value="5">hursky</option>
        </select>
        <div>
            <input type="text"/>
            <button id="add">增加</button>
        </div>
        <button id="delete">减少</button>

        <script>
            const select = document.querySelector("select")

            // 选中某个option时触发
            select.addEventListener("change", e => {
                // e.target -> select
                const value = e.target.value
                // 获取select当前选中的option的索引号
                const index = select.selectedIndex
                // options[index] -> option
                const text = select.options[index].text

                window.alert(`选中第${index}个 option, 内容是${text}, 值为${value}`)
            })
            
            const input = document.querySelector("input")
            const addButton = document.querySelector("button#add")
            const deleteButton = document.querySelector("button#delete")

            addButton.addEventListener("click", e => {
                e.preventDefault()
                // 获取输入框内容
                const _text = input.value
               
                if(_text.length === 0) {
                    window.alert("请输入内容")
                    return
                }

                // 获取select下的所有option
                const options = select.options

                let value = options.length + 1
                let text = _text

                const option = document.createElement("option")
                option.value = value + ''
                option.text = text
                // 加入到最后一项
                select.add(option, null)
            })

            deleteButton.addEventListener("click", e => {
                e.preventDefault()

                const length = select.options.length
                // 删除最后一项
                select.remove(length - 1)
            })
        </script>
    </body>
</html>